# ピアノの両手運指モデルによる合奏曲のピアノ用自動編曲手法

2013/12
コスト関数の導出が難しいことから、統計的方法を用いている
HMM に基づく手法を拡張し，両手の運指に適用できる方法

## 引用

> 本研究では，合奏曲のピアノ用編曲を，演奏難易度を
制約とした原曲に対する忠実さの最適化と捉え，この原理による自動編曲手法を提案する．まず演奏難易
度を扱うためにピアノの両手運指に着目し，運指モデルおよびこれに基づく運指決定を議論する．

> 計算機の性能や情報処理技術
が発展している中，この様な問題を考えることは有益であ
ろう．

> はじ
めから高度な音楽性などを扱うことは容易でないため，最
初の試みとして，原曲になるべく忠実かつ演奏可能である
様な編曲を前提として以下議論する．

> 演奏可能性について片手の最大同時打
鍵数や最大同時音程などに関する簡単なルールによる制約
が述べられており，特に [1] では，習熟度に応じた難易度
の違いも議論されている．

> ピアノ用編
曲のためには両手の運指モデルが必要であるが，文献 [5]
で提案された隠れ Markov モデル (HMM) を用いた片手の
運指モデルを，緩く依存した並行現象を効率的に記述可能
なモデル [6] を用いて拡張した両手の運指モデルを考案し，
運指決定とともに議論する．

> 次節で
述べる様に，運指の難しさを原理的に求める手法は確立し
ていない．この様な状況においては，統計的な考えに基づ
き実際の運指データから運指の自然さを確率的に求める方
法が有効だと考えられる．確率的な運指モデルを用いるこ
とにより，与えられた楽譜に対して，最も自然な運指が決
定出来ると同時に，どのくらい自然かを基に運指の難しさ
を定量化出来る．

> 運指決定問題は，与えられたピアノ用の楽譜あ
るいは MIDI 情報をもとにそれぞれの音符がどの指で弾か
れたかを推定したり，あるいはどの指で弾くと良いかを決
定する問題で
・・・
これを完全に一意的な問題と捉えるのは難し
いであろう．その一方で，表 1 に示す様に，時代や地域の
異なる演奏者による運指にも共通点は多く見られ，運指決
定はある程度の普遍性を持った問題

> 一つの魅力的な考えは，運指決定を演奏コストの最小化
と捉え，最も演奏が効率的であるような運指を求めるとい
うものである．この方向の研究としては，文献 [12], [13] な
どがあり，ある程度の有効性は示されている．しかし，結
果は少ない例でのみ議論されており，汎用性はまだ十分に
調べられておらず，コスト関数設定の原理も確立していな
い．

> 経験や文献に基づくルールをもとに運指決定則
を構築する試みもあり [17]，少ない例を再現するにも複雑
なルールが必要であることが示唆されているが，汎用性は
十分に調べられていない．文献 [13] では和音を扱っている
が，その他の文献は全て右手の単旋律の運指を対象として
いる．

> この他に，実際の運指データの統計的な性質に基づき運
指決定する手法が提案されている [5], [18], [19]．特に，文
献 [19] は左手や和音を扱っており，これらを含む楽曲につ
いて約 74%の正解率を上げている．一方，文献 [5] では正
解率が約 52%と低いが，これは強すぎるモデルの制約や学
習の仕方が原因だと考えられる（後述参照）．

> コストや確率を用いる手法では，局所的な制約に基づいた
モデルが主に考えられている．この他，運指ではフレーズ
構造などより大局的な要素も影響すると考えられるが，そ
の影響は定量的には調べられていない．
コスト関数の原理的な導出が難しいことを鑑み，本稿で
は，比較的高い推定精度が得られる統計的方法に基づく運
指決定について述べる．

> 最も簡単には，隣り合う音符からの依
存性により記述されるが，これは Markov モデルを用いて
記述出来る．これはまた，確率最大化やパラメータフィッ
ティングが計算量の上で効率的に行えるという利点がある．

> ここでは簡単のため，時間依存性は考えないこととする．

> 替え指 (finger substitution) においては一つの音符に複数の指
が当てられるが，簡単のためここではこれは考えないことにする．

> 文献 [5] と同様に HMM を用い
た運指モデルについて述べる．音符列が，指の動きとその
結果による音符の出現により生成されると考えると，この
確率は，ある指の次にどの指が使われやすいかを表す確率
P(fm|fm−1) と，隣り合う 2 つの運指からどの音高が出現
しやすいかを表す確率を用いて表される．以下，前者を遷
移確率，後者を出力確率と呼ぶ．

> 上記モデルの和音への拡張は，和音を仮想的にアルペジオ
化して単旋律に置き換えることにより行える文献 [13], [19]．
これは，和音とそのアルペジオあるいは分散和音の運指が
多くの場合同一であることからある程度の正当性が得ら
れる．
・・・
発音時間間隔が例えば 30 ms 以
下 [20] のものは同一和音に属すると見なすことにより同様
の順序化が行える

## 参考

[13] A. Al Kasimi et al., ISMIR, pp. 355–356, 2007
[17] R. Parncutt et al., Music Perception, 14(4), pp. 341–
382, 1997.
林田教裕, 水谷哲也，情処学会全国大会講演論文集, 2,
pp. 203–204, 2003.