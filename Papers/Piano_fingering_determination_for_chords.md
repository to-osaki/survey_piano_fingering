# 和音に対するピアノ運指決定法

https://iss.ndl.go.jp/books/R000000004-I023418205-00
2012/1
和音を含む旋律に対し、音に対する運指の状態をノードとした最短経路問題として定式化

## 対象

> ピアノ初心者を対象とし，和音を含むピアノの楽譜データから弾きやすい運指
を出力するシステムを構築することを目的とする．本研究では，和音に対するコスト
を設定し，コストに重み付けを行った上で，ダイクストラ法によって最短経路問題を
解く方法を提案する．

## 手法

> 隣り合う 2
つの音間のコストの和が最小となる運指を最適な運指として求める．これを運指最適
化問題として定式化すると，
入力: 音の並び $s_{1},$ $s_{2},$ $\ldots,s_{n}$
出力: 指番号の並び $f_{1},$ $f_{2},$ $\ldots,f_{n}$
最小化: $\sum_{p=1}^{n-1}c(s_{p},s_{p+1},f_{p},f_{p+1})
・・・
同様にして，3 和音の場合は 10 通り，4 和音の場合は 5 通り，5 和音の場合
は 1 通りである．よって，合計 31 通りの運指が存在するので，31 $Xn$個のノードを
使い，運指最適化問題を最短経路問題としてモデル化できる．

> 和音 (単音) のひとつひとつの音に注目し，ある和音 (単音) のそれぞれの音から，
次のそれぞれの音に移動するコストの和を，和音 (単音) から和音 (単音) への移動
に関してのコストとする．

> ある和音をある指使いで弾くときのコストを和音コストとする．「一番低い音の指
番号 $+$ 各音間のコスト $+$ 一番低い音と一番高い音間のコスト」 と定める．

## 結果

> 検証では，楽譜に指番号が記載されている曲を用いて，楽譜に記載されている運指
と，運指最適化問題を最短経路問題としてモデル化しダイクストラ法を用いて得られ
た運指を比較し，適合率を求めた．楽譜に記載されていない部分の運指は一致してい
るとして適合率を計算した．

> 全ての曲の適合率を上げることはできなかった．しかし，基本運指や困難運指といった和音を弾く際
の規則を導入した実験では，8 割以上の適合率を得ることができた．和音を弾く際の，
複数の音を同時に弾くといった和音特有の性質を重視すべきであることがわかる．

> 今後の課題として，複数の曲に対して楽譜に記載された運指を出力する重みを求める
ことがあげられる．
・・・
さらに，弾きやすさだけではなく，音の繋がりなどの演奏の表
現方法も考慮した運指決定法を提案することが課題である．

## 参考

Finding optimal piano fingering(2000)
AUTOMATIC FINGERING SYSTEM(kasimiら 2005)
